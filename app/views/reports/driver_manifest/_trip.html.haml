- pickup_addr = trip.pickup_address
- dropoff_addr = trip.dropoff_address
- customer = trip.customer

%tr{style: 'font-weight: bold; font-size: 15px;'}
  %td{style: 'font-size: 24px;'}= translate_helper("driver_manifest_pickup") 
  %td 
    - if customer
      %p{style:'font-size: 18px;'}= trip.customer.try(:name) 
    - if pickup_addr
      %p= pickup_addr.text
      - if pickup_addr.notes
        %p= pickup_addr.notes
  %td= format_time_for_listing(trip.pickup_time)
  %td= format_time_for_listing(trip.appointment_time)

%tr
  %td= (trip.notes.blank? ? "" : translate_helper("driver_manifest_trip_notes") )
  %td= trip.notes
  %td{style: 'min-width: 150px;'}
    = translate_helper("driver_manifest_time_arrive")   
    &nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)
  %td{style: 'min-width: 150px;'}  
    = translate_helper("driver_manifest_time_depart") 
    &nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)

- mobility = trip.mobility || customer.try(:mobility)
- if mobility
  %tr
    %td= translate_helper("driver_manifest_customer") 
    %td= mobility.name + "  1"
    %td
    %td

%tr
  %td= translate_helper("driver_manifest_guests") 
  %td= trip.guest_count
  %td
  %td

%tr
  %td= translate_helper("driver_manifest_attendants") 
  %td= trip.attendant_count
  %td
  %td

%tr
  %td{style: 'border-bottom: 1px solid black;'}= translate_helper("driver_manifest_total_passengers") 
  %td= trip.trip_size
  %td= translate_helper("driver_manifest_donation_$") 
  %td{style: 'border: 1px solid black;'} 

%tr
  %td= translate_helper("driver_manifest_mobility_devices")  
  %td= trip.mobility_device_accommodations || 0
  %td
  %td

- if customer && customer.mobility_notes.present?
  %tr
    %td= translate_helper("driver_manifest_mobility_notes") 
    %td= customer.mobility_notes
    %td
    %td

%tr{style: 'font-weight: bold; font-size: 15px;'}
  %td{style: 'font-size: 24px; padding-top: 15px;'}= translate_helper("driver_manifest_dropoff") 
  %td 
    - if customer
      %p{style:'font-size: 18px; padding-top: 15px;'}= trip.customer.try(:name) 
    - if dropoff_addr
      %p= dropoff_addr.text
      - if dropoff_addr.notes
        %p= dropoff_addr.notes
  %td
  %td

%tr
  %td= (trip.notes.blank? ? "" : translate_helper("driver_manifest_trip_notes") )
  %td= trip.notes
  %td{style: 'min-width: 150px;'}
    = translate_helper("driver_manifest_time_arrive")   
    &nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)
  %td{style: 'min-width: 150px;'}  
    = translate_helper("driver_manifest_time_depart") 
    &nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)

- if (later_customer_trips = later_trips_for_customer(customer, trip)).any?
  %tr
    %td
      - later_customer_trips.each do |later_trip| 
        %p
          = translate_helper("later_trips")  
          " at" 
          = format_time_for_listing(later_trip.pickup_time)
          " with" 
          = later_trip.run ? (later_trip.run.driver.try(:name) ||  translate_helper("no_driver") ) : "Cab" 

- unless is_last_trip
  %tr
    %td{colspan:"4", style: "border-top: 3px solid darkgray;"}



